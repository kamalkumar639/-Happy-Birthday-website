<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Happy Birthday Girl üéÇ</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css"/>

  <style>
    /* Timeline vars for sequencing */
    :root{
      --t-cake-in: 900ms;
      --t-icing-in: 700ms;
      --t-face-in: 700ms;
      --t-candle-in: 700ms;
      --t-flame-in: 700ms;
      --t-bg-reveal: 900ms;

      --delay-cake: 0ms;
      --delay-icing: calc(var(--t-cake-in) + 150ms);
      --delay-face: calc(var(--delay-icing) + var(--t-icing-in) - 200ms);
      --delay-candle: calc(var(--delay-face) + var(--t-face-in) - 150ms);
      --delay-flame: calc(var(--delay-candle) + var(--t-candle-in) + 150ms);
      --delay-bg: calc(var(--delay-flame) + var(--t-flame-in) + 200ms);
    }

      /* Full-page light pink gradient and centering */
  html,body{height:100%}
  body{
    margin:0;
    display:grid;
    place-items:center; /* centers stage container */
    overflow:hidden;
   background: linear-gradient(135deg, #fcc8dd, #f7b0cc, #fb92ba);
   
    
  }

    .cake-scene{
      position:relative;
      width:100%;
      max-width:min(900px, 92vw);
      display:grid; gap:20px; place-items:center; text-align:center;
      overflow:hidden;
    }

    /* Background sparkles + hearts behind everything */
    .bg-layer{
      position:absolute; inset:-10% -5%;
      pointer-events:none; z-index:0; opacity:0;
      transition: opacity var(--t-bg-reveal) ease var(--delay-bg);
    }
    .bg-layer.ready{ opacity:1; }

    .sparkle, .heart{
      position:absolute;
      filter: drop-shadow(0 0 8px rgba(255, 160, 200, .5));
      opacity:.9;
    }
    /* Sparkles: twinkle and float */
    .sparkle::before{
      content:'‚ú¶'; font-size:18px; color:#bb0459;
      text-shadow:0 0 10px rgba(246, 135, 187, 0.9);
    }
    .sparkle{
      animation: floatUp 3s linear infinite, twinkle 1.8s ease-in-out infinite;
    }
    @keyframes twinkle{
      0%,100%{ transform: scale(1); opacity:.8 }
      50%{ transform: scale(1.2); opacity:1 }
    }

    /* Hearts: gentle rise with wobble */
    .heart::before{
      content:'‚ù§'; font-size:30px; color:#f55187;
      text-shadow:0 0 10px rgba(255, 120, 170, .7);
    }
    .heart{
      animation: floatUp 3s linear infinite, wobble 2.8s ease-in-out infinite;
    }
    @keyframes wobble{
      0%,100%{ transform: translateX(0) }
      50%{ transform: translateX(6px) }
    }
    @keyframes floatUp{
      0%{ transform: translateY(20px); opacity:0 }
      10%{ opacity:.85 }
      90%{ opacity:.85 }
      100%{ transform: translateY(-120px); opacity:0 }
    }

    /* Bring foreground above bg-layer */
    .cake-wrap{ position:relative; z-index:1; }

    /* Headline */
    .cake-title{
      font-weight:900; font-size: clamp(28px, 5vw, 54px);
      letter-spacing: .5px;
      background: linear-gradient(90deg,#ff86b5,#ff2e6a);
      -webkit-background-clip:text; background-clip:text; color:transparent;
      margin: 0 0 4px 0;
    }
    .page-subtitle{ opacity:.85; margin-top:0 }

    /* Cake container transitions in first */
    .cake{
      position:relative;
      width: 320px; height: 160px; margin-top: 30px;
      background: linear-gradient(#ffb1cf, #ff86b5);
      border-radius: 16px 16px 28px 28px;
      box-shadow: inset 0 -10px 0 rgba(255,255,255,.35), 0 20px 60px rgba(255, 47, 106, .25);
      transform: translateY(20px) scale(.96);
      opacity:0;
      animation: cakeIn var(--t-cake-in) cubic-bezier(.2,.8,.2,1) var(--delay-cake) forwards;
    }
    @keyframes cakeIn{
      to{ transform: translateY(0) scale(1); opacity:1 }
    }
    .cake::after{
      content:'';
      position:absolute; left:50%; transform:translateX(-50%);
      bottom:-24px; width: 380px; height: 28px; border-radius: 999px;
      background: rgba(0,0,0,.08); filter: blur(10px);
    }

    /* Icing appears next with slide/drop */
    .icing{
      position:absolute; top:-22px; left:0; right:0; height: 46px;
      background: linear-gradient(#ffe3ee,#ffd1e4);
      border-radius: 18px 18px 0 0;
      mask:
        radial-gradient(14px 20px at 10% 50%, #000 98%, transparent) bottom 0 left 10% / 70px 100% repeat-x,
        linear-gradient(#000 0 0);
      -webkit-mask:
        radial-gradient(14px 20px at 10% 50%, #000 98%, transparent) bottom 0 left 10% / 70px 100% repeat-x,
        linear-gradient(#000 0 0);
      transform: translateY(-10px);
      opacity:0;
      animation: icingIn var(--t-icing-in) ease var(--delay-icing) forwards;
    }
    @keyframes icingIn{
      to{ transform: translateY(0); opacity:1 }
    }

    /* Cute face (eyes + smile) */
    .face{
      position:absolute; inset:0;
      display:flex; align-items:center; justify-content:center;
      gap:34px; transform: translateY(-6px);
      opacity:0;
      animation: faceIn var(--t-face-in) ease var(--delay-face) forwards;
    }
    @keyframes faceIn{ to{ opacity:1; transform: translateY(0) } }

    .eye{
      width:14px; height:14px; border-radius:50%;
      background:#3b1e2b;
      box-shadow: 0 2px 0 rgba(255,255,255,.35) inset;
      position:relative;
      animation: blink 4s ease-in-out infinite 2s;
    }
    .eye::after{
      content:'';
      position:absolute; top:2px; left:3px;
      width:4px; height:4px; border-radius:50%;
      background:#fff; opacity:.9;
    }

    .nav-links a {
      --btn-bg: linear-gradient(135deg, #ff9ac2, #ff7fb3 45%, #ff6aa6);
      appearance:none;
      border:none;
      padding: 12px 22px;
      border-radius: 999px;
      background: var(--btn-bg);
      color: var(--white);
      font-weight:700;
      letter-spacing:0.3px;
      cursor:pointer;
      box-shadow: 0 8px 20px rgba(38, 8, 23, 0.28);
      transition: transform .2s ease, box-shadow .2s ease, filter .2s ease;
     
      
      
    }
    .btn:hover{ transform: translateY(-2px); box-shadow: 0 12px 26px rgba(255,105,180,0.34); filter: saturate(1.08) }
    .btn:active{ transform: translateY(0) scale(0.98) }
    @keyframes blink{
      0%,92%,100%{ transform: scaleY(1) }
      96%{ transform: scaleY(0.1) }
    }

    .smile{
      width:60px; height:30px; border-bottom-left-radius:60px; border-bottom-right-radius:60px;
      border:4px solid transparent; border-bottom-color:#3b1e2b;
      transform: translateY(6px);
      filter: drop-shadow(0 1px 0 rgba(255,255,255,.4));
    }

    /* Candles slide in after face */
    .candles{
      position:absolute; top:-40px; left:0; right:0; display:flex; justify-content:center; gap:28px;
      opacity:0; transform: translateY(-8px);
      animation: candleIn var(--t-candle-in) ease var(--delay-candle) forwards;
    }
    @keyframes candleIn{ to{ opacity:1; transform: translateY(0) } }

    .candle{
      width:14px; height:40px; border-radius:6px;
      background: repeating-linear-gradient(180deg, #fff, #fff 6px, #ffd1e4 6px, #ffd1e4 12px);
      position:relative;
      animation: wiggle 2.8s ease-in-out infinite;
    }
    @keyframes wiggle{
      0%,100%{ transform: rotate(-1deg) }
      50%{ transform: rotate(1deg) }
    }

    /* Flames appear last, with gentle grow + glow */
    .flame{
      position:absolute; top:-16px; left:50%; transform:translateX(-50%) scale(.6);
      width:12px; height:18px; border-radius: 50% 50% 50% 50% / 65% 65% 35% 35%;
      background: radial-gradient(ellipse at 50% 30%, #fff6cc 0%, #ffd36e 48%, #ff8a00 75%, rgba(255,0,0,0) 80%);
      filter: drop-shadow(0 0 10px rgba(255,170,0,.0));
      opacity:0;
      animation:
        flameIn var(--t-flame-in) ease var(--delay-flame) forwards,
        flicker 1.2s ease-in-out infinite calc(var(--delay-flame) + var(--t-flame-in));
    }
    @keyframes flameIn{
      to{ opacity:1; transform: translateX(-50%) scale(1); filter: drop-shadow(0 0 14px rgba(255,190,0,.9)); }
    }
    @keyframes flicker{
      0%,100%{ transform: translateX(-50%) scale(1); filter: drop-shadow(0 0 10px rgba(255,170,0,.7)); }
      50%{ transform: translateX(-52%) scale(1.08); filter: drop-shadow(0 0 14px rgba(255,190,0,.9)); }
    }

    /* Nav links spacing */
    .nav-links{ margin-top: 18px; }
  </style>
</head>
<body class="fade-in">
  <div class="page">
    <div class="bokeh"></div>

    <!-- background sparkles and hearts -->
    <div class="bg-layer" id="bgAmbient">
      <!-- Randomly placed elements; adjust positions as desired -->
      <span class="sparkle" style="left:8%; top:75%; animation-delay: .2s, .1s;"></span>
      <span class="sparkle" style="left:18%; top:20%; animation-delay: 1.2s, .4s;"></span>
      <span class="sparkle" style="left:42%; top:70%; animation-delay: .6s, .2s;"></span>
      <span class="sparkle" style="left:66%; top:30%; animation-delay: 1.6s, .7s;"></span>
      <span class="sparkle" style="left:84%; top:60%; animation-delay: .9s, .3s;"></span>

      <span class="heart" style="left:14%; top:78%; animation-delay: .4s, .3s;"></span>
      <span class="heart" style="left:36%; top:82%; animation-delay: 1.1s, .6s;"></span>
      <span class="heart" style="left:58%; top:76%; animation-delay: .8s, .2s;"></span>
      <span class="heart" style="left:78%; top:80%; animation-delay: 1.4s, .5s;"></span>
    </div>

    <section class="cake-wrap glass cake-scene">
      <h1 class="cake-title">Happy Birthday, Girl üíñ</h1>
      <p class="page-subtitle">Make a wish‚Ä¶ the cake is coming to life ‚ú®</p>

      <div class="cake" aria-label="Cute birthday cake with candles">
        <div class="icing"></div>

        <!-- Cute face -->
        <div class="face" aria-hidden="true">
          <span class="eye"></span>
          <span class="smile"></span>
          <span class="eye"></span>
        </div>

        <!-- Candles appear, flames ignite after -->
        <div class="candles">
          <div class="candle"><span class="flame" aria-hidden="true"></span></div>
          <div class="candle"><span class="flame" aria-hidden="true"></span></div>
          <div class="candle"><span class="flame" aria-hidden="true"></span></div>
        </div>
      </div>

      <div class="nav-links">
        <a class="link" href="tree.html">Back </a>
        <a class="btn" href="thisrd.html">Next </a>
      </div>
    </section>
  </div>

  <script>
    // Reveal background sparkles/hearts after the main sequence
    window.addEventListener('load', () => {
      const ambient = document.getElementById('bgAmbient');
      // Match CSS --delay-bg; add a small buffer
      const totalDelay = getComputedStyle(document.documentElement).getPropertyValue('--delay-bg').trim();
      // Convert something like "2300ms" to ms integer if present
      const toMs = (v) => v.endsWith('ms') ? parseFloat(v) : (v.endsWith('s') ? parseFloat(v)*1000 : parseFloat(v)||0);
      const ms = toMs(totalDelay) + 50;
      setTimeout(()=> ambient.classList.add('ready'), ms);
    });
  </script>
</body>
</html>
